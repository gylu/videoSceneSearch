{% extends "layout.html" %}
  
{% block content %}
	<div>
		<h3> The following image was sent to the server for searching: </h3>
		<p> {{jsonSent}}</p>
		<img src={{url_for('static', filename='uploads/'+imageName)}} style="width:500px;height:auto;border:5px;"value={{imageName}}>
	</div>



	<div>
      <p>
	    <input type="text" size="5" name="a"> +
	    <input type="text" size="5" name="b"> =
    	<span id="result">?</span>
    	<p>
    	<span id="wait">wait...</span>
    	<p>
    	<a href="javascript:void();" id="calculate">calculate server side</a>
     </div>

	<div>
		<br>
		<h3> Below are the results (lower distance is more similar, 0 to 64) </h3>
		<br>
		<br>
		{% for message, youtubeid, videotime in results %}

			<iframe width="640" height="360" src="http://www.youtube.com/embed/{{youtubeid}}?rel=0&start={{videotime}}" frameborder="0" allowfullscreen></iframe>
			<div id="chart"></div>
			<p style="margin:0">Video frame time containing most similar frame: {{message.frametime}}</p>
			<p style="margin:0">Distance: {{message.distance}}</p>
			<p style="margin:0">Target image hash: {{message.targetimagehash}}</p>
			<p style="margin:0">Found image hash: {{message.framehash}}s</p>
			<p style="margin:0">Details: {{message}}</p>

			<div>
		    	<span id="msg2">Click here to get all frames: </span>
		    	<a href="javascript:void();" id="getallframes" videoname= {{message.videoname}} targetimagehash={{message.targetimagehash}}>Get All Frames</a>
		     </div>
			<br>
			<br>
			<br>
		{% endfor %}
	
	</div>
{% endblock %}